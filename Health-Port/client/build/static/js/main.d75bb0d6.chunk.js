(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{174:function(e,t,a){e.exports=a(224)},179:function(e,t,a){},224:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(15),c=a.n(o),l=(a(179),a(7)),i=a.n(l),s=a(12),u=a(8),m=a(26),p=a(17),d=Object(n.createContext)(null),g=a(9),f=a.n(g),h=a(281),b=a(257),E=a(255),x=function(e){var t=Object(E.a)((function(e){return{backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"}}}))();return r.a.createElement("div",null,r.a.createElement(h.a,{className:t.backdrop,open:e.loading},r.a.createElement(b.a,{color:"inherit"})))},v=a(278),k=a(261),w=a(259),y=a(276),O=a(262),j=a(102),C=a.n(j),N=a(69),S=a(258),P=Object(E.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function I(){var e=Object(n.useState)(),t=Object(u.a)(e,2),a=t[0],o=t[1],c=Object(n.useState)(),l=Object(u.a)(c,2),m=l[0],g=l[1],h=Object(n.useState)(!1),b=Object(u.a)(h,2),E=b[0],j=b[1],I=Object(n.useContext)(d).setUserData,B=Object(p.f)();Object(n.useEffect)((function(){localStorage.getItem("auth-token")&&B.push("/")}),[]);var T=function(){var e=Object(s.a)(i.a.mark((function e(t){var n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,n={userName:a,password:m},j(!0),e.next=6,f.a.post("/api/users/login",n);case 6:r=e.sent,j(!1),I({token:r.data.token,user:r.data.user}),localStorage.setItem("auth-token",r.data.token),B.push("/"),e.next=18;break;case 13:e.prev=13,e.t0=e.catch(1),j(!1),console.log(e.t0.response.data.msg),alert(e.t0.response.data.msg);case 18:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t){return e.apply(this,arguments)}}(),F=P();return r.a.createElement(S.a,{component:"main",maxWidth:"xs"},r.a.createElement(w.a,null),r.a.createElement("div",{className:F.paper},r.a.createElement(v.a,{className:F.avatar},r.a.createElement(C.a,null)),r.a.createElement(N.a,{component:"h1",variant:"h5"},"Log in"),r.a.createElement("form",{onSubmit:T,className:F.form},r.a.createElement(y.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"userName",label:"Username",name:"userName",onChange:function(e){return o(e.target.value)},autoFocus:!0}),r.a.createElement(y.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"password",label:"Password",name:"password",type:"password",onChange:function(e){return g(e.target.value)}}),r.a.createElement(k.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:F.submit},"Login"),r.a.createElement(O.a,{onClick:function(){B.push("/signup")},variant:"body2"},"Don't have an account? Sign Up"))),r.a.createElement(x,{loading:E}))}var B=a(4),T=a(109),F=a(277),L=a(264),W=Object(B.a)({root:{color:T.a[400],"&$checked":{color:T.a[600]}},checked:{}})((function(e){return r.a.createElement(F.a,Object.assign({color:"default"},e))})),D=Object(E.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function R(){var e=Object(p.f)(),t=Object(n.useState)(!1),a=Object(u.a)(t,2),o=a[0],c=a[1],l=Object(n.useState)("user"),m=Object(u.a)(l,2),d=m[0],g=m[1],h=Object(n.useState)([]),b=Object(u.a)(h,2),E=b[0],j=b[1],P=Object(n.useState)(""),I=Object(u.a)(P,2),B=I[0],T=I[1],R=Object(n.useState)(""),A=Object(u.a)(R,2),G=A[0],M=A[1],q=Object(n.useState)(""),_=Object(u.a)(q,2),U=_[0],z=_[1],H=Object(n.useState)(""),V=Object(u.a)(H,2),J=V[0],$=V[1],Y=Object(n.useState)(""),Q=Object(u.a)(Y,2),K=Q[0],X=Q[1],Z=Object(n.useState)(""),ee=Object(u.a)(Z,2),te=ee[0],ae=ee[1],ne=function(e){return g(e.target.value)},re=function(e){return T(e.target.value)},oe=function(e){return X(e.target.value)},ce=function(e){return ae(e.target.value)};Object(n.useEffect)((function(){localStorage.getItem("auth-token")&&e.push("/")}),[]);var le=function(){var t=Object(s.a)(i.a.mark((function t(a){var n,r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),t.prev=1,!(B.trim().length&&te.trim().length&&K.trim().length)){t.next=36;break}if(c(!0),"user"!==d){t.next=15;break}return console.log(d),n={userName:B,password:K,confirmPassword:te,role:"user"},t.next=9,f.a.post("/api/users/register",n);case 9:t.sent,c(!1),alert("Success, now you can login"),e.push("/login"),t.next=34;break;case 15:if(!(G.trim().length&&U.trim().length&&J.trim().length)){t.next=32;break}return(r=new FormData).append("userName",B),r.append("password",K),r.append("confirmPassword",te),r.append("fname",G),r.append("lname",U),r.append("email",J),r.append("certificate",E),t.next=26,f.a.post("/api/users/registerdoc",r,{headers:{"Content-Type":"multipart/form-data"}});case 26:t.sent,c(!1),alert("You have successfully applied for a position of a doctor, and will be reviewed soon"),e.push("/"),t.next=34;break;case 32:return c(!1),t.abrupt("return",alert("Please enter all details"));case 34:t.next=38;break;case 36:c(!1),alert("Please fill all the fields");case 38:t.next=44;break;case 40:t.prev=40,t.t0=t.catch(1),c(!1),alert(t.t0.response.data.msg);case 44:case"end":return t.stop()}}),t,null,[[1,40]])})));return function(e){return t.apply(this,arguments)}}(),ie=D();return r.a.createElement(S.a,{component:"main",maxWidth:"xs"},r.a.createElement(w.a,null),r.a.createElement("div",{className:ie.paper},r.a.createElement(v.a,{className:ie.avatar},r.a.createElement(C.a,null)),r.a.createElement(N.a,{component:"h1",variant:"h5"},"Sign Up"),r.a.createElement("div",null,r.a.createElement(F.a,{checked:"user"===d,onChange:ne,value:"user",label:"User",name:"user",inputProps:{"aria-label":"User"}}),"User",r.a.createElement(W,{checked:"doctor"===d,onChange:ne,value:"doctor",label:"Certified",name:"doctor",inputProps:{"aria-label":"Doctor"}}),"Doctor"),r.a.createElement("form",{className:ie.form,onSubmit:le},"user"===d?r.a.createElement(L.a,{container:!0,spacing:2},r.a.createElement(L.a,{item:!0,xs:12},r.a.createElement(y.a,{variant:"outlined",required:!0,fullWidth:!0,id:"uname",label:"Username",name:"uname",value:B,onChange:re,autoFocus:!0})),r.a.createElement(L.a,{item:!0,xs:12},r.a.createElement(y.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",value:K,label:"Password",onChange:oe,type:"password",id:"password"})),r.a.createElement(L.a,{item:!0,xs:12},r.a.createElement(y.a,{variant:"outlined",required:!0,fullWidth:!0,name:"confirmPassword",value:te,onChange:ce,label:"Confirm Password",type:"password",id:"confirmPassword"}))):null,"doctor"===d?r.a.createElement(L.a,{container:!0,spacing:2},r.a.createElement(L.a,{item:!0,xs:12,sm:6},r.a.createElement(y.a,{autoComplete:"fname",name:"firstName",variant:"outlined",required:!0,fullWidth:!0,value:G,onChange:function(e){return M(e.target.value)},id:"firstName",label:"First Name",autoFocus:!0})),r.a.createElement(L.a,{item:!0,xs:12,sm:6},r.a.createElement(y.a,{variant:"outlined",required:!0,fullWidth:!0,value:U,id:"lastName",onChange:function(e){return z(e.target.value)},label:"Last Name",name:"lastName",autoComplete:"lname"})),r.a.createElement(L.a,{item:!0,xs:12},r.a.createElement(y.a,{variant:"outlined",required:!0,fullWidth:!0,onChange:function(e){return $(e.target.value)},value:J,type:"email",id:"email",label:"Email Address",name:"email",autoComplete:"email"})),r.a.createElement(L.a,{item:!0,xs:12},r.a.createElement(y.a,{variant:"outlined",required:!0,fullWidth:!0,onChange:re,value:B,id:"uname",label:"Username",name:"uname"})),r.a.createElement(L.a,{item:!0,xs:12},r.a.createElement(y.a,{variant:"outlined",required:!0,fullWidth:!0,value:K,name:"password",onChange:oe,label:"Password",type:"password",id:"password"})),r.a.createElement(L.a,{item:!0,xs:12},r.a.createElement(y.a,{variant:"outlined",required:!0,fullWidth:!0,onChange:ce,value:te,name:"confirmPassword",label:"Confirm Password",type:"password",id:"confirmPassword"})),r.a.createElement(L.a,{item:!0,xs:12},r.a.createElement(k.a,{fullWidth:!0,color:"primary"},r.a.createElement("input",{required:!0,type:"file",name:"myfile",accept:"image/*",onChange:function(e){return j(e.target.files[0])}})))):null,r.a.createElement(k.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:ie.submit},"Sign Up"),r.a.createElement(O.a,{onClick:function(){e.push("/login")},variant:"body2"},"Already a user? Sign In"))),r.a.createElement(x,{loading:o}))}var A=a(156),G=a(157),M=a(165),q=a(164),_=function(e){Object(M.a)(a,e);var t=Object(q.a)(a);function a(){return Object(A.a)(this,a),t.apply(this,arguments)}return Object(G.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,"Dhat Mobile hai")}}]),a}(n.Component),U=a(37),z=a(265),H=a(266),V=a(268),J=a(267),$=Object(E.a)((function(e){return{root:Object(U.a)({maxWidth:345},e.breakpoints.up("xs"),{maxWidth:"100%"}),cardGrid:{paddingTop:e.spacing(10),paddingBottom:e.spacing(8)},card:{height:"100%",display:"flex",flexDirection:"column"},cardContent:{flexGrow:1},footer:{backgroundColor:e.palette.background.paper,padding:e.spacing(6)}}}));function Y(){var e=$(),t=Object(p.f)(),a=Object(n.useState)(!0),o=Object(u.a)(a,2),c=o[0],l=o[1],m=Object(n.useState)([]),d=Object(u.a)(m,2),g=d[0],h=d[1];return Object(n.useEffect)((function(){Object(s.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get("/api/forum");case 2:t=e.sent,h(t.data),l(!1);case 5:case"end":return e.stop()}}),e)})))()}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(w.a,null),r.a.createElement(w.a,null),r.a.createElement("main",null,r.a.createElement(S.a,{className:e.cardGrid,maxWidth:"md"},r.a.createElement(L.a,{container:!0,spacing:3},g.map((function(a){return r.a.createElement(L.a,{item:!0,key:a._id,xs:12,sm:6,md:4,lg:3},r.a.createElement(z.a,{onClick:function(){return t.push("/subforum/"+a._id)},className:e.root},r.a.createElement(H.a,null,r.a.createElement(J.a,{component:"img",alt:"Contemplative Reptile",height:"140",image:a.url,title:"fiorum picture"}),r.a.createElement(V.a,null,r.a.createElement(N.a,{gutterBottom:!0,variant:"h5",component:"h2"},a.title),r.a.createElement(N.a,{variant:"body2",component:"p"},a.description),r.a.createElement("br",null),r.a.createElement(N.a,{className:e.pos,color:"textSecondary"},a.numberOfPosts," posts")))))}))))),r.a.createElement(x,{loading:c}))}var Q=a(18),K=a(269),X=a(270),Z=a(263),ee=a(279),te=a(163),ae=a(159),ne=a.n(ae),re=a(120),oe=a.n(re),ce=a(123),le=a.n(ce),ie=a(122),se=a.n(ie),ue=a(124),me=a.n(ue),pe=a(119),de=a.n(pe),ge=a(158),fe=a.n(ge),he=a(126),be=a(121),Ee=a.n(be),xe=a(280),ve=Object(E.a)((function(e){return{grow:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{display:"block"},search:Object(U.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(Q.b)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(Q.b)(e.palette.common.white,.25)},marginRight:e.spacing(2),marginLeft:0,width:"100%"},e.breakpoints.up("xs"),{marginLeft:e.spacing(3),width:"auto"}),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(U.a)({padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("md"),{width:"20ch"}),sectionDesktop:Object(U.a)({display:"none"},e.breakpoints.up("md"),{display:"flex"}),sectionMobile:Object(U.a)({display:"flex"},e.breakpoints.up("md"),{display:"none"})}}));function ke(){var e=ve(),t=Object(p.f)(),a=r.a.useState(null),o=Object(u.a)(a,2),c=o[0],l=o[1],i=r.a.useState(null),s=Object(u.a)(i,2),m=s[0],g=s[1],f=Object(n.useContext)(d),h=f.userData,b=f.setUserData,E=Boolean(c),x=Boolean(m),v=function(){b({token:void 0,user:void 0}),localStorage.setItem("auth-token",""),alert("Successfully logged out!"),t.push("/")},k=function(){g(null)},w=function(){l(null),k()},y=function(){w(),t.push("/login")},O=function(){w(),t.push("/signup")},j=function(){w(),t.push("/forum")},C=function(){w(),t.push("/messages")},S=function(){w(),t.push("/chatbot")},P=r.a.createElement(te.a,{anchorEl:c,anchorOrigin:{vertical:"top",horizontal:"right"},id:"primary-search-account-menu",keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:E,onClose:w},r.a.createElement(ee.a,{onClick:w},"Login"),r.a.createElement(ee.a,{onClick:w},"Signup")),I=r.a.createElement(te.a,{anchorEl:m,anchorOrigin:{vertical:"top",horizontal:"right"},id:"primary-search-account-menu-mobile",keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:x,onClose:k},r.a.createElement(ee.a,{onClick:S,style:{textAlign:"center",alignItems:"center"}},r.a.createElement(Z.a,{"aria-label":"show 4 new mails",color:"inherit"},r.a.createElement(de.a,null)),r.a.createElement("p",null,"ChatBot")),r.a.createElement(ee.a,{style:{textAlign:"center",alignItems:"center"},onClick:j},r.a.createElement(Z.a,{"aria-label":"show 11 new notifications",color:"inherit"},r.a.createElement(oe.a,null)),r.a.createElement("p",null,"Forum")),h.user?r.a.createElement(r.a.Fragment,null,r.a.createElement(ee.a,{style:{textAlign:"center",alignItems:"center"},onClick:C},r.a.createElement(Z.a,{color:"inherit"},r.a.createElement(Ee.a,null)),r.a.createElement("p",null,"Messages")),r.a.createElement(ee.a,{style:{textAlign:"center",alignItems:"center"},onClick:v},r.a.createElement(Z.a,{color:"inherit"},r.a.createElement(se.a,null)),r.a.createElement("p",null,"Logout"))):r.a.createElement(r.a.Fragment,null,r.a.createElement(ee.a,{style:{textAlign:"center",alignItems:"center"},onClick:y},r.a.createElement(Z.a,{color:"inherit"},r.a.createElement(le.a,null)),r.a.createElement("p",null,"Login")),r.a.createElement(ee.a,{style:{textAlign:"center",alignItems:"center"},onClick:O},r.a.createElement(Z.a,{color:"inherit"},r.a.createElement(me.a,null)),r.a.createElement("p",null,"Sign up"))));return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:e.grow},r.a.createElement(K.a,{position:"static"},r.a.createElement(X.a,null,r.a.createElement(he.a,{focusRipple:!0,key:"Logo",onClick:function(){w(),t.push("/")}},r.a.createElement(fe.a,null),r.a.createElement(N.a,{className:e.title,variant:"h6",noWrap:!0,style:{marginLeft:5}},"HealthPort")),r.a.createElement("div",{className:e.grow}),r.a.createElement("div",{className:e.sectionDesktop,flexWrap:"nowrap",alignItems:"flex-end"},r.a.createElement(Z.a,{"aria-label":"show 4 new mails",color:"inherit"},r.a.createElement(de.a,null)),r.a.createElement(he.a,{color:"inherit",onClick:S},r.a.createElement(xe.a,null,"ChatBot")),r.a.createElement(Z.a,{"aria-label":"show 11 new notifications",color:"inherit"},r.a.createElement(oe.a,null)),r.a.createElement(he.a,{color:"inherit",onClick:j},r.a.createElement(xe.a,null,"Forum")),h.user?r.a.createElement(r.a.Fragment,null,r.a.createElement(Z.a,{color:"inherit"},r.a.createElement(Ee.a,null)),r.a.createElement(he.a,{color:"inherit",onClick:C},r.a.createElement(xe.a,null,"Messages")),r.a.createElement(Z.a,{color:"inherit"},r.a.createElement(se.a,null)),r.a.createElement(he.a,{color:"inherit",onClick:v},r.a.createElement(xe.a,null,"Logout"))):r.a.createElement(r.a.Fragment,null,r.a.createElement(Z.a,{color:"inherit"},r.a.createElement(le.a,null)),r.a.createElement(he.a,{color:"inherit",onClick:y},r.a.createElement(xe.a,null,"Login")),r.a.createElement(Z.a,{color:"inherit"},r.a.createElement(me.a,null)),r.a.createElement(he.a,{color:"inherit",onClick:O},r.a.createElement(xe.a,null,"Signup")))),r.a.createElement("div",{className:e.sectionMobile},r.a.createElement(Z.a,{"aria-label":"show more","aria-controls":"primary-search-account-menu-mobile","aria-haspopup":"true",onClick:function(e){g(e.currentTarget)},color:"inherit"},r.a.createElement(ne.a,null))))),I,P))}var we=a(116),ye=a.n(we),Oe=a(272),je=a(273),Ce=a(274),Ne=a(108),Se=a(64),Pe=a.n(Se),Ie=a(65),Be=a.n(Ie),Te=Object(E.a)((function(e){return{media:{paddingTop:"56.25%"},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"},avatar:{backgroundColor:Ne.a[500]},icon:{marginRight:e.spacing(2)},heroContent:{backgroundColor:e.palette.background.paper,padding:e.spacing(8,0,6),Left:20},heroButtons:{marginTop:e.spacing(4)},cardGrid:{paddingTop:e.spacing(6),paddingBottom:e.spacing(8)},card:{height:"100%",flexDirection:"column"},cardMedia:{paddingTop:"56.25%"},cardContent:{flexGrow:1},footer:{backgroundColor:e.palette.background.paper,padding:e.spacing(6)},root:{width:"100%"},pos:{marginBottom:12},bg:{backgroundColor:"#3d4ad9",color:"white"}}}));function Fe(){var e=localStorage.getItem("auth-token"),t=Object(n.useState)(""),a=Object(u.a)(t,2),o=a[0],c=a[1];Object(n.useEffect)((function(){Object(s.a)(i.a.mark((function t(){var a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f.a.get("/api/users",{headers:{"x-auth-token":e}});case 2:a=t.sent,console.log("running it once"),console.log(a.data.id),c(a.data.id);case 6:case"end":return t.stop()}}),t)})))()}),[]);var l=Te(),m=Object(p.f)(),d=Object(n.useState)(!0),g=Object(u.a)(d,2),h=g[0],b=g[1],E=Object(n.useState)([]),y=Object(u.a)(E,2),O=y[0],j=y[1],C=Object(n.useState)([]),P=Object(u.a)(C,2),I=P[0],B=P[1],T=window.location.pathname.substring(10),F=function(){var e=Object(s.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),localStorage.getItem("auth-token")?m.push("/newpost/"+T):(alert("Please login first"),m.push("/login"));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),W=function(){var t=Object(s.a)(i.a.mark((function t(a){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(b(!0),localStorage.getItem("auth-token")){t.next=6;break}alert("Please login first"),b(!1),t.next=23;break;case 6:if(t.prev=6,e){t.next=12;break}alert("Please login first"),b(!1),t.next=16;break;case 12:return t.next=14,f.a.post("/api/post/postUpvote/"+a,{},{headers:{"x-auth-token":e}});case 14:t.sent,b(!1);case 16:t.next=23;break;case 18:t.prev=18,t.t0=t.catch(6),b(!1),console.log(t.t0.response.data.msg),alert(t.t0.response.data.msg);case 23:case"end":return t.stop()}}),t,null,[[6,18]])})));return function(e){return t.apply(this,arguments)}}(),D=function(){var t=Object(s.a)(i.a.mark((function t(a){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(b(!0),localStorage.getItem("auth-token")){t.next=6;break}alert("Please login first"),b(!1),t.next=23;break;case 6:if(t.prev=6,e){t.next=12;break}alert("Please login first"),b(!1),t.next=16;break;case 12:return t.next=14,f.a.post("/api/post/postDownvote/"+a,{},{headers:{"x-auth-token":e}});case 14:t.sent,b(!1);case 16:t.next=23;break;case 18:t.prev=18,t.t0=t.catch(6),b(!1),console.log(t.t0.response.data.msg),alert(t.t0.response.data.msg);case 23:case"end":return t.stop()}}),t,null,[[6,18]])})));return function(e){return t.apply(this,arguments)}}(),R=function(){var t=Object(s.a)(i.a.mark((function t(a){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(b(!0),localStorage.getItem("auth-token")){t.next=6;break}alert("Please login first"),b(!1),t.next=23;break;case 6:if(t.prev=6,e){t.next=12;break}alert("Please login first"),b(!1),t.next=16;break;case 12:return t.next=14,f.a.delete("/api/post/delete/"+a,{headers:{"x-auth-token":e}},{});case 14:t.sent,b(!1);case 16:t.next=23;break;case 18:t.prev=18,t.t0=t.catch(6),b(!1),console.log(t.t0.response.data.msg),alert(t.t0.response.data.msg);case 23:case"end":return t.stop()}}),t,null,[[6,18]])})));return function(e){return t.apply(this,arguments)}}();return Object(n.useEffect)((function(){Object(s.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get("/api/forum/"+T);case 2:t=e.sent,j(t.data.data),B(t.data.forumName),b(!1);case 6:case"end":return e.stop()}}),e)})))()}),[h]),r.a.createElement(r.a.Fragment,null,r.a.createElement(w.a,null),r.a.createElement(w.a,null),r.a.createElement("main",null,r.a.createElement(S.a,{className:l.cardGrid,maxWidth:"md"},r.a.createElement(L.a,{container:!0,spacing:3},r.a.createElement(L.a,{item:!0,key:"New",lg:12,md:12,sm:12,xs:12,style:{width:"100%"}},r.a.createElement(z.a,{className:l.root},r.a.createElement(V.a,null,r.a.createElement(J.a,null,r.a.createElement("img",{src:I.url,style:{display:"block",maxHeight:200,width:"auto",margin:"auto",marginLeft:"auto",marginRight:"auto"}})),r.a.createElement(N.a,{gutterBottom:!0,variant:"h5",component:"h2",classes:l.heroContent},r.a.createElement(xe.a,{textAlign:"center",marginTop:1},I.title)),r.a.createElement(N.a,{className:l.pos,color:"textSecondary"},r.a.createElement(xe.a,{textAlign:"center",marginTop:1},I.description)),r.a.createElement(Oe.a,null),r.a.createElement(H.a,{onClick:F},r.a.createElement("span",{className:l.imageButton},r.a.createElement(N.a,{component:"span",variant:"subtitle1",color:"inherit",className:l.imageTitle},r.a.createElement(xe.a,{textAlign:"center",style:{display:"flex",alignItems:"center",textAlign:"center",paddingTop:10,paddingBottom:5,paddingLeft:"40%"}},r.a.createElement(ye.a,{style:{marginLeft:20,marginRight:10}}),"Add Post"),r.a.createElement("span",{className:l.imageMarked}))))))),O.map((function(e){return r.a.createElement(L.a,{item:!0,key:e._id,lg:12,style:{width:"100%"}},r.a.createElement(z.a,null,r.a.createElement(je.a,{avatar:r.a.createElement(v.a,{"aria-label":"recipe",className:"doctor"===e.authorrole?l.bg:l.avatar},e.authorName.charAt(0)),action:r.a.createElement(k.a,{color:"secondary",onClick:function(){R(e._id)}},e.author===o?"Delete":""),title:e.title,subheader:"Posted by "+e.authorName}),r.a.createElement(he.a,{focusRipple:!0,key:"Title",className:l.image,focusVisibleClassName:l.focusVisible,onClick:function(){return m.push("/post/"+e._id)}},r.a.createElement(V.a,null,r.a.createElement(N.a,{variant:"body2",component:"p"},r.a.createElement(xe.a,{textAlign:"left"},e.body.substring(0,200),e.body.length<=200?null:"...")))),r.a.createElement(Ce.a,{disableSpacing:!0},r.a.createElement(Z.a,{onClick:function(){W(e._id)},"aria-label":"add to favorites"},r.a.createElement(Pe.a,null)),r.a.createElement("p",null,e.upvotes.length),r.a.createElement(Z.a,{onClick:function(){D(e._id)},"aria-label":"share"},r.a.createElement(Be.a,null)),r.a.createElement("p",null,e.downvotes.length))))}))))),r.a.createElement(x,{loading:h}),";")}var Le=Object(E.a)((function(e){var t;return{root:{display:"flex",flexWrap:"wrap",minWidth:300,width:"100%",height:"100%"},image:(t={position:"relative",height:400},Object(U.a)(t,e.breakpoints.down("xs"),{width:"100% !important",height:250}),Object(U.a)(t,"&:hover, &$focusVisible",{zIndex:1,"& $imageBackdrop":{opacity:.15},"& $imageMarked":{opacity:0}}),t),focusVisible:{},imageButton:{position:"absolute",left:0,right:0,top:0,bottom:0,display:"flex",alignItems:"center",justifyContent:"center",color:e.palette.common.white},imageSrc:{position:"absolute",left:0,right:0,top:0,bottom:0,backgroundSize:"cover",backgroundPosition:"center 40%"},imageBackdrop:{position:"absolute",left:0,right:0,top:0,bottom:0,backgroundColor:e.palette.common.black,opacity:.4,transition:e.transitions.create("opacity")},imageTitle:{position:"relative",padding:"".concat(e.spacing(2),"px ").concat(e.spacing(4),"px ").concat(e.spacing(1)+6,"px")},imageMarked:{height:3,width:18,backgroundColor:e.palette.common.white,position:"absolute",bottom:-2,left:"calc(50% - 9px)",transition:e.transitions.create("opacity")}}}));function We(){var e=Le(),t=Object(p.f)(),a=[{url:"https://images.unsplash.com/photo-1535378620166-273708d44e4c?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=566&q=80",title:"ChatBot",context:"ChatBot to try to help you figure out which disease you might have based on the symptoms",width:"40%",action:function(){return t.push("/chatbot")}},{url:"https://images.unsplash.com/photo-1519452575417-564c1401ecc0?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=750&q=80",title:"Forum",context:"A safe place to discuss and chat anonymously with others who can help and guide you",width:"40%",action:function(){return t.push("/forum")}}];return r.a.createElement("div",{className:e.root},a.map((function(t){return r.a.createElement(he.a,{focusRipple:!0,key:t.title,className:e.image,focusVisibleClassName:e.focusVisible,style:{width:t.width,margin:"5%"},onClick:t.action},r.a.createElement("span",{className:e.imageSrc,style:{backgroundImage:"url(".concat(t.url,")"),borderRadius:40}}),r.a.createElement("span",{className:e.imageBackdrop,style:{borderRadius:40}}),r.a.createElement("span",{className:e.imageButton},r.a.createElement(N.a,{component:"span",variant:"h4",color:"inherit",className:e.imageTitle},t.title,r.a.createElement("span",{className:e.imageMarked}),r.a.createElement(N.a,null,t.context))))})))}var De=a(160),Re=a.n(De),Ae=a(55),Ge=a.n(Ae),Me=a(167),qe=a(260),_e=a(275),Ue=Object(E.a)((function(e){return{root:{width:"80%",height:"100%"},media:{height:0,paddingTop:"56.25%"},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"},avatar:{backgroundColor:Ne.a[500]},grap:{padding:"2px 4px",display:"flex",alignItems:"center",width:"100%",marginBottom:5},input:{marginLeft:e.spacing(1),flex:1},iconButton:{padding:10},divider:{height:28,margin:4},textFieldCenter:{display:"flex",justifyContent:"center"},textField:{width:"100%",backgroundColor:"#fff",paddingRight:5,paddingLeft:5},bg:{backgroundColor:"#3d4ad9",color:"white"}}}));function ze(){var e=Ue(),t=Object(n.useState)(!0),a=Object(u.a)(t,2),o=a[0],c=a[1],l=Object(p.f)(),m=Object(n.useState)(),d=Object(u.a)(m,2),g=d[0],h=d[1],b=Object(n.useState)([]),E=Object(u.a)(b,2),w=E[0],y=E[1],O=Object(n.useState)([]),j=Object(u.a)(O,2),C=j[0],S=j[1],P=localStorage.getItem("auth-token"),I=window.location.pathname.substring(6),B=Object(n.useState)(""),T=Object(u.a)(B,2),F=T[0],L=T[1];Object(n.useEffect)((function(){Object(s.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get("/api/users",{headers:{"x-auth-token":P}});case 2:t=e.sent,console.log("running it once"),console.log(t.data.id),L(t.data.id);case 6:case"end":return e.stop()}}),e)})))()}),[]),Object(n.useEffect)((function(){Object(s.a)(i.a.mark((function e(){var t,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get("/api/post/"+I);case 2:return t=e.sent,S(t.data),e.next=6,f.a.get("/api/post/getComments/"+I);case 6:a=e.sent,y(a.data),c(!1);case 9:case"end":return e.stop()}}),e)})))()}),[o]);var W=function(){var e=Object(s.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c(!0),localStorage.getItem("auth-token")){e.next=6;break}alert("Please login first"),c(!1),e.next=24;break;case 6:if(e.prev=6,P){e.next=12;break}alert("Please login first"),c(!1),e.next=17;break;case 12:return e.next=14,f.a.delete("/api/post/delete/"+t,{headers:{"x-auth-token":P}},{});case 14:e.sent,c(!1),l.push("/subforum/"+C.whichForum);case 17:e.next=24;break;case 19:e.prev=19,e.t0=e.catch(6),c(!1),console.log(e.t0.response.data.msg),alert(e.t0.response.data.msg);case 24:case"end":return e.stop()}}),e,null,[[6,19]])})));return function(t){return e.apply(this,arguments)}}(),D=function(){var e=Object(s.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c(!0),localStorage.getItem("auth-token")){e.next=6;break}alert("Please login first"),c(!1),e.next=23;break;case 6:if(e.prev=6,P){e.next=12;break}alert("Please login first"),c(!1),e.next=16;break;case 12:return e.next=14,f.a.delete("/api/comment/delete/"+t,{headers:{"x-auth-token":P}},{});case 14:e.sent,c(!1);case 16:e.next=23;break;case 18:e.prev=18,e.t0=e.catch(6),c(!1),console.log(e.t0.response.data.msg),alert(e.t0.response.data.msg);case 23:case"end":return e.stop()}}),e,null,[[6,18]])})));return function(t){return e.apply(this,arguments)}}(),R=function(){var e=Object(s.a)(i.a.mark((function e(t){var a,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),e.prev=1,c(!0),a={body:g},P){e.next=8;break}alert("Please login first"),e.next=16;break;case 8:return e.next=10,f.a.post("/api/comment/create/"+I,a,{headers:{"x-auth-token":P}});case 10:return e.sent,h(""),e.next=14,f.a.get("/api/post/getComments/"+I);case 14:n=e.sent,y(n.data);case 16:c(!1),e.next=24;break;case 19:e.prev=19,e.t0=e.catch(1),c(!1),console.log(e.t0.response.data.msg),alert(e.t0.response.data.msg);case 24:case"end":return e.stop()}}),e,null,[[1,19]])})));return function(t){return e.apply(this,arguments)}}(),A=function(){var e=Object(s.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c(!0),localStorage.getItem("auth-token")){e.next=6;break}alert("Please login first"),c(!1),e.next=23;break;case 6:if(e.prev=6,P){e.next=12;break}alert("Please login first"),c(!1),e.next=16;break;case 12:return e.next=14,f.a.post("/api/post/postUpvote/"+t,{},{headers:{"x-auth-token":P}});case 14:e.sent,c(!1);case 16:e.next=23;break;case 18:e.prev=18,e.t0=e.catch(6),c(!1),console.log(e.t0.response.data.msg),alert(e.t0.response.data.msg);case 23:case"end":return e.stop()}}),e,null,[[6,18]])})));return function(t){return e.apply(this,arguments)}}(),G=function(){var e=Object(s.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c(!0),localStorage.getItem("auth-token")){e.next=6;break}alert("Please login first"),c(!1),e.next=23;break;case 6:if(e.prev=6,P){e.next=12;break}alert("Please login first"),c(!1),e.next=16;break;case 12:return e.next=14,f.a.post("/api/post/postDownvote/"+t,{},{headers:{"x-auth-token":P}});case 14:e.sent,c(!1);case 16:e.next=23;break;case 18:e.prev=18,e.t0=e.catch(6),c(!1),console.log(e.t0.response.data.msg),alert(e.t0.response.data.msg);case 23:case"end":return e.stop()}}),e,null,[[6,18]])})));return function(t){return e.apply(this,arguments)}}(),M=function(){var e=Object(s.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c(!0),localStorage.getItem("auth-token")){e.next=6;break}alert("Please login first"),c(!1),e.next=23;break;case 6:if(e.prev=6,P){e.next=12;break}alert("Please login first"),c(!1),e.next=16;break;case 12:return e.next=14,f.a.post("/api/comment/postUpvote/"+t,{},{headers:{"x-auth-token":P}});case 14:e.sent,c(!1);case 16:e.next=23;break;case 18:e.prev=18,e.t0=e.catch(6),c(!1),console.log(e.t0.response.data.msg),alert(e.t0.response.data.msg);case 23:case"end":return e.stop()}}),e,null,[[6,18]])})));return function(t){return e.apply(this,arguments)}}(),q=function(){var e=Object(s.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c(!0),localStorage.getItem("auth-token")){e.next=6;break}alert("Please login first"),c(!1),e.next=23;break;case 6:if(e.prev=6,P){e.next=12;break}alert("Please login first"),c(!1),e.next=16;break;case 12:return e.next=14,f.a.post("/api/comment/postDownvote/"+t,{},{headers:{"x-auth-token":P}});case 14:e.sent,c(!1);case 16:e.next=23;break;case 18:e.prev=18,e.t0=e.catch(6),c(!1),console.log(e.t0.response.data.msg),alert(e.t0.response.data.msg);case 23:case"end":return e.stop()}}),e,null,[[6,18]])})));return function(t){return e.apply(this,arguments)}}();return o?r.a.createElement(x,{loading:o}):r.a.createElement(z.a,{className:e.root,style:{marginLeft:"10%",marginTop:10,marginBottom:15}},r.a.createElement(je.a,{avatar:r.a.createElement(v.a,{"aria-label":"recipe",className:"doctor"===C.authorrole?e.bg:e.avatar},C.authorName.charAt(0)),action:r.a.createElement("form",null,r.a.createElement(k.a,{onClick:function(){W(C._id)},color:"secondary"},C.author===F?"Delete":"")),title:C.title,subheader:"Posted by "+C.authorName+" in "+C.forumName}),r.a.createElement(V.a,null,r.a.createElement(N.a,{variant:"body2",color:"textSecondary",component:"p"},C.body)),r.a.createElement(Ce.a,{disableSpacing:!0},r.a.createElement(Z.a,{onClick:function(){A(I)},"aria-label":"add to favorites"},r.a.createElement(Pe.a,null)),r.a.createElement("p",null,C.upvotes.length),r.a.createElement(Z.a,{onClick:function(){G(I)},"aria-label":"share"},r.a.createElement(Be.a,null)),r.a.createElement("p",null,C.downvotes.length),r.a.createElement(Z.a,{"aria-label":"comment"},r.a.createElement(Re.a,null)),r.a.createElement("p",null,w.length)),r.a.createElement(V.a,null,r.a.createElement(Oe.a,{style:{margin:5}}),r.a.createElement(N.a,{gutterBottom:!0,variant:"h5",component:"h3"},"Comments -"),r.a.createElement(Me.a,{onSubmit:R,component:"form",className:e.grap},r.a.createElement(qe.a,{required:!0,name:"body",className:e.textField,variant:"outlined",placeholder:"Enter a comment",value:g,onChange:function(e){return h(e.target.value)},InputProps:{endAdornment:r.a.createElement(_e.a,{position:"end"},r.a.createElement(Ge.a,null))}}),r.a.createElement(Z.a,{type:"submit",className:e.iconButton,"aria-label":"search"},r.a.createElement(Ge.a,null))),w.map((function(t){return r.a.createElement("div",{key:t._id},r.a.createElement(z.a,{style:{paddingLeft:6,paddingTop:5,marginBottom:5}},r.a.createElement(je.a,{avatar:r.a.createElement(v.a,{"aria-label":"recipe",className:"doctor"===t.authorrole?e.bg:e.avatar},t.authorname.charAt(0)),action:r.a.createElement(k.a,{color:"secondary",onClick:function(){D(t._id)}},t.authorid===F?"Delete":""),title:"Commented by "+t.authorname}),r.a.createElement(N.a,{variant:"body2",component:"p"},t.body),r.a.createElement(Ce.a,{disableSpacing:!0},r.a.createElement(Z.a,{onClick:function(){M(t._id)},"aria-label":"add to favorites"},r.a.createElement(Pe.a,null)),r.a.createElement("p",null,t.upvotes.length),r.a.createElement(Z.a,{onClick:function(){q(t._id)},"aria-label":"share"},r.a.createElement(Be.a,null)),r.a.createElement("p",null,t.downvotes.length))),r.a.createElement(Oe.a,{style:{margin:5}}))}))))}var He=Object(E.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function Ve(){var e=Object(p.f)(),t=Object(n.useState)(""),a=Object(u.a)(t,2),o=a[0],c=a[1],l=Object(n.useState)(""),m=Object(u.a)(l,2),d=m[0],g=m[1],h=Object(n.useState)(!0),b=Object(u.a)(h,2),E=b[0],v=b[1],O=Object(n.useState)([]),j=Object(u.a)(O,2),C=j[0],P=j[1],I=window.location.pathname.substring(9),B=localStorage.getItem("auth-token");Object(n.useEffect)((function(){Object(s.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get("/api/forum/"+I);case 2:t=e.sent,P(t.data.forumName.title),v(!1);case 5:case"end":return e.stop()}}),e)})))()}),[]);var T=function(){var t=Object(s.a)(i.a.mark((function t(a){var n,r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),t.prev=1,v(!0),n={wforum:I,fname:C,title:o,body:d},console.log(n),B){t.next=10;break}alert("Please login first"),v(!1),t.next=15;break;case 10:return t.next=12,f.a.post("/api/post/create",n,{headers:{"x-auth-token":B}});case 12:r=t.sent,v(!1),e.push("/post/"+r.data._id);case 15:t.next=22;break;case 17:t.prev=17,t.t0=t.catch(1),v(!1),console.log(t.t0.response.data.msg),alert(t.t0.response.data.msg);case 22:case"end":return t.stop()}}),t,null,[[1,17]])})));return function(e){return t.apply(this,arguments)}}(),F=He();return r.a.createElement(S.a,{component:"main",maxWidth:"xs"},r.a.createElement(w.a,null),r.a.createElement("div",{className:F.paper},r.a.createElement(N.a,{variant:"h5",component:"h2"},"Create new Post"),r.a.createElement(N.a,{className:F.pos,color:"textSecondary"},"Submitting to ",C," forum"),r.a.createElement("form",{onSubmit:T,className:F.form,noValidate:!0},r.a.createElement(y.a,{variant:"outlined",margin:"normal",multiline:!0,required:!0,onChange:function(e){c(e.target.value)},fullWidth:!0,id:"title",label:"Post Title",name:"title",autoFocus:!0}),r.a.createElement(y.a,{variant:"outlined",margin:"normal",multiline:!0,required:!0,rows:"9",onChange:function(e){g(e.target.value)},fullWidth:!0,id:"body",label:"Post Body",name:"body"}),r.a.createElement(k.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:F.submit},"Submit"))),r.a.createElement(x,{loading:E}))}var Je=a(162),$e=a.n(Je),Ye=a(161),Qe=a.n(Ye),Ke=Object(E.a)((function(e){return{media:{paddingTop:"56.25%"},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"},avatar:{backgroundColor:Ne.a[500]},icon:{marginRight:e.spacing(2)},heroContent:{backgroundColor:e.palette.background.paper,padding:e.spacing(8,0,6),Left:20},heroButtons:{marginTop:e.spacing(4)},cardGrid:{paddingTop:e.spacing(6),paddingBottom:e.spacing(8)},card:{height:"100%",flexDirection:"column"},cardMedia:{paddingTop:"56.25%"},cardContent:{flexGrow:1},footer:{backgroundColor:e.palette.background.paper,padding:e.spacing(6)},root:{width:"100%"},pos:{marginBottom:12}}}));function Xe(){var e=Ke(),t=(Object(p.f)(),Object(n.useState)(!0)),a=Object(u.a)(t,2),o=a[0],c=a[1],l=Object(n.useState)([]),m=Object(u.a)(l,2),d=m[0],g=m[1],h=localStorage.getItem("auth-token");Object(n.useEffect)((function(){Object(s.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get("/api/docs/getdoctorsforvalidation",{headers:{"x-auth-token":h}});case 2:t=e.sent,console.log(t.data),g(t.data),c(!1);case 6:case"end":return e.stop()}}),e)})))()}),[o]);var b=function(){var e=Object(s.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c(!0),localStorage.getItem("auth-token")){e.next=6;break}alert("Please login first"),c(!1),e.next=23;break;case 6:if(e.prev=6,h){e.next=12;break}alert("Please login first"),c(!1),e.next=16;break;case 12:return e.next=14,f.a.post("/api/docs/getdoctorsforvalidation/"+t,{accepted:!1},{headers:{"x-auth-token":h}});case 14:e.sent,c(!1);case 16:e.next=23;break;case 18:e.prev=18,e.t0=e.catch(6),c(!1),console.log(e.t0.response.data.msg),alert(e.t0.response.data.msg);case 23:case"end":return e.stop()}}),e,null,[[6,18]])})));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=Object(s.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c(!0),localStorage.getItem("auth-token")){e.next=6;break}alert("Please login first"),c(!1),e.next=23;break;case 6:if(e.prev=6,h){e.next=12;break}alert("Please login first"),c(!1),e.next=16;break;case 12:return e.next=14,f.a.post("/api/docs/getdoctorsforvalidation/"+t,{accepted:!0},{headers:{"x-auth-token":h}});case 14:e.sent,c(!1);case 16:e.next=23;break;case 18:e.prev=18,e.t0=e.catch(6),c(!1),console.log(e.t0.response.data.msg),alert(e.t0.response.data.msg);case 23:case"end":return e.stop()}}),e,null,[[6,18]])})));return function(t){return e.apply(this,arguments)}}();return o?r.a.createElement(x,{loading:o}):r.a.createElement(r.a.Fragment,null,r.a.createElement(w.a,null),r.a.createElement(w.a,null),r.a.createElement("main",null,r.a.createElement(S.a,{className:e.cardGrid,maxWidth:"sm"},r.a.createElement(N.a,{component:"h1",variant:"h5"},r.a.createElement(xe.a,{align:"center",marginBottom:"5%"},"Doctor's Approval List")),r.a.createElement(L.a,{container:!0,spacing:3},d.map((function(t){return r.a.createElement(L.a,{item:!0,key:"hellow",lg:12,style:{width:"100%"}},r.a.createElement(z.a,{className:e.root},r.a.createElement(je.a,{avatar:r.a.createElement(v.a,{"aria-label":"recipe",className:e.avatar},t.firstName.charAt(0)),action:r.a.createElement("form",null,r.a.createElement(xe.a,null,r.a.createElement("a",{href:"/",color:"black"},"Certificate")),r.a.createElement(Z.a,null,r.a.createElement(Qe.a,{onClick:function(){E(t._id)},style:{fill:"green"}})),r.a.createElement(Z.a,null,r.a.createElement($e.a,{color:"inherit",onClick:function(){b(t._id)},style:{fill:"red"}}))),title:t.firstName+" "+t.lastName+"  (  "+t.userName+" )",subheader:t.email})))}))))))}var Ze=Object(E.a)((function(e){return{media:{paddingTop:"56.25%"},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"},avatar:{backgroundColor:Ne.a[500]},icon:{marginRight:e.spacing(2)},heroContent:{backgroundColor:e.palette.background.paper,padding:e.spacing(8,0,6),Left:20},heroButtons:{marginTop:e.spacing(4)},cardGrid:{paddingTop:e.spacing(6),paddingBottom:e.spacing(8)},card:{height:"100%",flexDirection:"column"},cardMedia:{paddingTop:"56.25%"},cardContent:{flexGrow:1},footer:{backgroundColor:e.palette.background.paper,padding:e.spacing(6)},root:{width:"100%"},pos:{marginBottom:12}}}));function et(){var e=Ze(),t=Object(p.f)(),a=Object(n.useState)(!0),o=Object(u.a)(a,2),c=o[0],l=o[1],m=Object(n.useState)(""),d=Object(u.a)(m,2),g=d[0],h=d[1],b=Object(n.useState)([]),E=Object(u.a)(b,2),k=E[0],y=E[1],O=Object(n.useState)([]),j=Object(u.a)(O,2),C=(j[0],j[1],window.location.pathname.substring(10),localStorage.getItem("auth-token")),P=function(){var e=Object(s.a)(i.a.mark((function e(a){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.push("/messages/chat/"+a);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){Object(s.a)(i.a.mark((function e(){var t,a,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get("/api/users",{headers:{"x-auth-token":C}});case 2:if(t=e.sent,h(t.data.role),"doctor"!==t.data.role){e.next=13;break}return e.next=7,f.a.get("/api/docs/getusers4doc",{headers:{"x-auth-token":C}});case 7:a=e.sent,console.log(a.data),y(a.data),l(!1),e.next=19;break;case 13:return e.next=15,f.a.get("/api/docs/getdoctors");case 15:n=e.sent,console.log(n.data),y(n.data),l(!1);case 19:case"end":return e.stop()}}),e)})))()}),[c]),"user"===g?r.a.createElement(r.a.Fragment,null,r.a.createElement(w.a,null),r.a.createElement(w.a,null),r.a.createElement("main",null,r.a.createElement(S.a,{className:e.cardGrid,maxWidth:"sm"},r.a.createElement(L.a,{container:!0},r.a.createElement(N.a,{style:{marginLeft:20,paddingBottom:30},variant:"h6",color:"inherit"},"All the contacts you can message"),k.map((function(t){return r.a.createElement(L.a,{item:!0,key:"hellow",lg:12,style:{width:"100%"}},r.a.createElement(z.a,{onClick:function(){P(t._id)},className:e.root,style:{borderBottom:"1px solid rgb(200,200,200)"}},r.a.createElement(H.a,null,r.a.createElement(je.a,{avatar:r.a.createElement(v.a,{"aria-label":"recipe",className:e.avatar},t.userName.charAt(0)),title:t.firstName+" "+t.lastName,subheader:"message : "+t.userName}))))}))))),r.a.createElement(x,{loading:c})):r.a.createElement(r.a.Fragment,null,r.a.createElement(w.a,null),r.a.createElement(w.a,null),r.a.createElement("main",null,r.a.createElement(S.a,{className:e.cardGrid,maxWidth:"sm"},r.a.createElement(L.a,{container:!0},k.map((function(t){return r.a.createElement(L.a,{item:!0,key:"hellow",lg:12,style:{width:"100%"}},r.a.createElement(z.a,{onClick:function(){P(t.user)},className:e.root,style:{borderBottom:"1px solid rgb(200,200,200)"}},r.a.createElement(H.a,null,r.a.createElement(je.a,{avatar:r.a.createElement(v.a,{"aria-label":"recipe",className:e.avatar},t.userName.charAt(0)),title:t.userName}))))}))))),r.a.createElement(x,{loading:c}))}var tt=a(107),at=a.n(tt),nt=at()((function(e){return{textFieldCenter:{display:"flex",justifyContent:"center"},textField:{position:"fixed",bottom:45,width:"80%",paddingRight:5,paddingLeft:5},chatCont:{bottom:95,width:"100%",overflowY:"scroll",position:"fixed"},botChatCont:{width:"100%",marginTop:"20px",display:"flex"},botReply:{backgroundColor:"#3f51b5",color:"#fff",maxWidth:"60%",padding:"10px",marginLeft:"15px",hyphens:"auto"},userChatCont:{width:"100%",display:"flex",marginTop:"20px"},userReply:{backgroundColor:"#fff",color:"#262626",maxWidth:"60%",padding:"10px",marginRight:"15px",marginLeft:"auto"},media:{paddingTop:"56.25%"},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"},avatar:{backgroundColor:Ne.a[500]},icon:{marginRight:e.spacing(2)},heroContent:{backgroundColor:e.palette.background.paper,padding:e.spacing(8,0,6),Left:20},heroButtons:{marginTop:e.spacing(4)},cardGrid:{paddingTop:e.spacing(6),paddingBottom:e.spacing(8)},card:{height:"100%",flexDirection:"column"},cardMedia:{paddingTop:"56.25%"},cardContent:{flexGrow:1},footer:{backgroundColor:e.palette.background.paper,padding:e.spacing(6)},root:{width:"100%"},pos:{marginBottom:12}}}));var rt=function(){var e=Object(n.useState)(""),t=Object(u.a)(e,2),a=t[0],o=t[1],c=localStorage.getItem("auth-token"),l=(Object(p.f)(),window.location.pathname.substring(15)),m=Object(n.useState)(!0),d=Object(u.a)(m,2),g=d[0],h=d[1],b=Object(n.useState)([]),E=Object(u.a)(b,2),v=E[0],k=E[1];Object(n.useEffect)((function(){Object(s.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get("/api/messages/"+l,{headers:{"x-auth-token":c}});case 2:t=e.sent,console.log(l),console.log(t.data),k(t.data),h(!1);case 7:case"end":return e.stop()}}),e)})))()}),[g]);var O=function(){var e=Object(s.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),e.prev=1,h(!0),n={body:a},console.log(n),c){e.next=10;break}alert("Please login first"),h(!1),e.next=15;break;case 10:return e.next=12,f.a.post("/api//messages/add/"+l,n,{headers:{"x-auth-token":c}});case 12:e.sent,o(""),h(!1);case 15:e.next=22;break;case 17:e.prev=17,e.t0=e.catch(1),h(!1),console.log(e.t0.response.data.msg),alert(e.t0.response.data.msg);case 22:case"end":return e.stop()}}),e,null,[[1,17]])})));return function(t){return e.apply(this,arguments)}}(),j=nt();return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:j.chatCont},r.a.createElement(r.a.Fragment,null,r.a.createElement(w.a,null),r.a.createElement(w.a,null),r.a.createElement("main",null,r.a.createElement(S.a,{className:j.cardGrid},r.a.createElement(L.a,{container:!0},v.map((function(e){return e.senderId===l?r.a.createElement("div",{className:j.botChatCont},r.a.createElement(Me.a,{className:j.botReply},e.body)):r.a.createElement("div",{className:j.userChatCont},r.a.createElement(Me.a,{className:j.userReply},e.body))}))))))),r.a.createElement("div",{className:j.textFieldCenter},r.a.createElement("form",{onSubmit:O,className:j.textField},r.a.createElement(y.a,{required:!0,className:j.textField,variant:"outlined",placeholder:"Message",value:a,onChange:function(e){return o(e.target.value)},InputProps:{endAdornment:r.a.createElement(_e.a,{onClick:O,position:"end"},r.a.createElement(Ge.a,null))}}),r.a.createElement("input",{type:"submit",hidden:!0}))),r.a.createElement(x,{loading:g}))},ot=a(125),ct=at()((function(e){return{textFieldCenter:{display:"flex",justifyContent:"center"},textField:{position:"fixed",bottom:45,width:"80%",paddingRight:5,paddingLeft:5},chatCont:{width:"100%",overflowY:"scroll"},botChatCont:{width:"100%",marginTop:"20px",display:"flex"},botReply:{backgroundColor:"#3f51b5",color:"#fff",maxWidth:"60%",padding:"10px",marginLeft:"15px",hyphens:"auto"},userChatCont:{width:"100%",display:"flex",marginTop:"20px"},userReply:{backgroundColor:"#fff",color:"#262626",maxWidth:"60%",padding:"10px",marginRight:"15px",marginLeft:"auto"},media:{paddingTop:"56.25%"},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"},avatar:{backgroundColor:Ne.a[500]},icon:{marginRight:e.spacing(2)},cardGrid:{paddingTop:e.spacing(6),marginBottom:95,maxHeight:"55vh"},card:{height:"100%",flexDirection:"column"}}}));var lt=function(){var e=Object(n.useState)(""),t=Object(u.a)(e,2),a=t[0],o=t[1],c=Object(n.useState)([{text:"Hello, I am HealthPortBot, here to help you find out which disease you might have.",sender:1},{text:"Please can you tell me the problems/symptoms that you are facing.",sender:1}]),l=Object(u.a)(c,2),i=l[0],s=l[1],m=function(e){setTimeout((function(){console.log("World!")}),50);var t=document.getElementById("scrolldiv");t.scrollTop=t.scrollHeight};Object(n.useEffect)((function(){m()}),[i]);var p=function(e){e.preventDefault(),s((function(e){return[].concat(Object(ot.a)(e),[{text:a,sender:2}])})),f.a.post("/api/chatbot/send",{MSG:a}).then((function(e){console.log(e),s((function(t){return[].concat(Object(ot.a)(t),[{text:e.data.Reply,sender:1}])})),m()})).catch((function(e){console.log(e)})),o("")},d=ct();return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:d.chatCont,id:"scrolldiv"},r.a.createElement(r.a.Fragment,null,r.a.createElement(w.a,null),r.a.createElement(w.a,null),r.a.createElement("main",null,r.a.createElement(S.a,{className:d.cardGrid},r.a.createElement(L.a,{id:"scrolldiv",container:!0},i.map((function(e,t){return 1===e.sender?r.a.createElement("div",{key:t,className:d.botChatCont},r.a.createElement(Me.a,{className:d.botReply},e.text)):r.a.createElement("div",{key:t,className:d.userChatCont},r.a.createElement(Me.a,{className:d.userReply},e.text))}))))))),r.a.createElement("div",{className:d.textFieldCenter},r.a.createElement("form",{onSubmit:p,className:d.textField},r.a.createElement(y.a,{required:!0,autoFocus:!0,className:d.textField,variant:"outlined",placeholder:"Message",value:a,onChange:function(e){return o(e.target.value)},InputProps:{endAdornment:r.a.createElement(_e.a,{onClick:p,position:"end"},r.a.createElement(Ge.a,null))}}),r.a.createElement("input",{type:"submit",hidden:!0}))))};function it(){var e=Object(n.useState)({token:void 0,user:void 0}),t=Object(u.a)(e,2),a=t[0],o=t[1];return Object(n.useEffect)((function(){(function(){var e=Object(s.a)(i.a.mark((function e(){var t,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null===(t=localStorage.getItem("auth-token"))&&(localStorage.setItem("auth-token",""),t=""),e.next=4,f.a.post("/api/users/tokenIsValid",null,{headers:{"x-auth-token":t}});case 4:if(!e.sent.data){e.next=10;break}return e.next=8,f.a.get("/api/users/",{headers:{"x-auth-token":t}});case 8:a=e.sent,o({token:t,user:a.data});case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),r.a.createElement(m.a,null,r.a.createElement(d.Provider,{value:{userData:a,setUserData:o}},r.a.createElement(ke,null),r.a.createElement(p.c,null,r.a.createElement(p.a,{exact:!0,path:"/",component:We}),r.a.createElement(p.a,{exact:!0,path:"/login",component:I}),r.a.createElement(p.a,{exact:!0,path:"/signup",component:R}),r.a.createElement(p.a,{exact:!0,path:"/test",component:_}),r.a.createElement(p.a,{exact:!0,path:"/forum",component:Y}),r.a.createElement(p.a,{path:"/subforum",component:Fe}),r.a.createElement(p.a,{path:"/post",component:ze}),r.a.createElement(p.a,{path:"/newpost",component:Ve}),r.a.createElement(p.a,{exact:!0,path:"/approve",component:Xe}),r.a.createElement(p.a,{exact:!0,path:"/messages",component:et}),r.a.createElement(p.a,{exact:!0,path:"/chatbot",component:lt}),r.a.createElement(p.a,{path:"/messages/chat",component:rt}))))}c.a.render(r.a.createElement(it,null),document.getElementById("root"))}},[[174,1,2]]]);
//# sourceMappingURL=main.d75bb0d6.chunk.js.map